(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{3947:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var i=a(5155),n=a(2115),l=a(7472);function r(){let[t,e]=(0,n.useState)(null),a=(0,n.useRef)(null),[r,s]=(0,n.useState)("#dddddd"),d=(0,n.useRef)(null),o=(0,n.useRef)(null),[c,h]=(0,n.useState)({scale:1,positionX:0,positionY:0}),g=()=>{if(!o.current||!o.current.state)return;let{scale:t,positionX:e,positionY:a}=o.current.state;h({scale:t,positionX:e,positionY:a})};(0,n.useEffect)(()=>{let t=localStorage.getItem("savedImage");t&&e(t)},[]);let u=e=>{let i=a.current;if(!i||!t||!d.current)return;let n=d.current,l=i.getBoundingClientRect(),r=e.clientX-l.left,o=e.clientY-l.top,c=i.naturalWidth/l.width,h=i.naturalHeight/l.height,g=Math.floor(r*c),u=Math.floor(o*h);n.width=i.naturalWidth,n.height=i.naturalHeight;let p=n.getContext("2d",{willReadFrequently:!0});if(!p)return;p.drawImage(i,0,0,n.width,n.height);let m=p.getImageData(g,u,1,1).data;s("#".concat(m[0].toString(16).padStart(2,"0")).concat(m[1].toString(16).padStart(2,"0")).concat(m[2].toString(16).padStart(2,"0")))};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"editImageWrap",children:[(0,i.jsx)("canvas",{ref:d,style:{display:"none"}}),(0,i.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,i.jsx)(l.GT,{ref:o,initialScale:c.scale,initialPositionX:c.positionX,initialPositionY:c.positionY,onPanningStop:g,onPinchingStop:g,minScale:.1,limitToBounds:!1,children:e=>{let{zoomIn:n,zoomOut:r,resetTransform:s,...d}=e;return(0,i.jsx)(l.WZ,{wrapperStyle:{width:"100%",height:"100%"},children:(0,i.jsx)("div",{style:{position:"relative"},children:t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:t,alt:"Saved Crop",ref:t=>{a.current=t},style:{display:"block",width:"100%"}}),(0,i.jsx)("div",{onClick:u,style:{position:"absolute",top:0,left:0,right:0,bottom:0,cursor:"crosshair",zIndex:10}})]})})})}})})]}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{style:{width:"50%",paddingRight:"10px"},children:r&&(0,i.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f0f0f0",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[(0,i.jsx)("div",{style:{width:"120px",height:"150px",background:r,clear:"both",display:"block",border:"1px solid #000"}}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:["HEX: ",r]}),(0,i.jsxs)("p",{children:["RGB: ",function(t){let e=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),i=parseInt(t.slice(5,7),16);return"rgb(".concat(e,", ").concat(a,", ").concat(i,")")}(r)]})]})]})}),(0,i.jsxs)("div",{style:{width:"40%",marginTop:"0.8rem"},children:[(0,i.jsx)("button",{onClick:()=>{if(!t)return;let a=new Image;a.src=t,a.onload=()=>{let t=document.createElement("canvas");t.width=a.naturalWidth,t.height=a.naturalHeight;let i=t.getContext("2d");if(!i)return;i.drawImage(a,0,0);let n=i.getImageData(0,0,t.width,t.height),l=n.data;for(let t=0;t<l.length;t+=4)l[t]=255-l[t],l[t+1]=255-l[t+1],l[t+2]=255-l[t+2];i.putImageData(n,0,0);let r=t.toDataURL("image/png");e(r),localStorage.setItem("savedImage",r)}},className:"editButton",children:"Invert Colors"}),(0,i.jsx)("button",{onClick:()=>{if(!t)return;let a=document.createElement("canvas"),i=new Image;i.src=t,i.onload=()=>{a.width=i.naturalWidth,a.height=i.naturalHeight;let t=a.getContext("2d");if(!t)return;t.translate(a.width,0),t.scale(-1,1),t.drawImage(i,0,0);let n=a.toDataURL("image/png");e(n),localStorage.setItem("savedImage",n)}},className:"editButton",children:"Flip Horizontally"}),(0,i.jsx)("button",{onClick:()=>{if(!t)return;let a=document.createElement("canvas"),i=new Image;i.src=t,i.onload=()=>{a.width=i.naturalWidth,a.height=i.naturalHeight;let t=a.getContext("2d");if(!t)return;t.translate(0,a.height),t.scale(1,-1),t.drawImage(i,0,0);let n=a.toDataURL("image/png");e(n),localStorage.setItem("savedImage",n)}},className:"editButton",children:"Flip Vertically"})]})]})]})}},5035:(t,e,a)=>{Promise.resolve().then(a.bind(a,3947))}},t=>{var e=e=>t(t.s=e);t.O(0,[91,441,684,358],()=>e(5035)),_N_E=t.O()}]);